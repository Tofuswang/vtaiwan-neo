---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { Icon } from 'lucide-astro';
import IconWrapper from '../../components/ui/IconWrapper.astro';

// 假設這些數據將來自 CMS
const upcomingMeetups = [
  {
    title: '數位身分證線上諮詢會議',
    date: '2025-04-15',
    time: '19:00-21:00',
    location: '線上會議',
    description: '討論數位身分證的隱私保護機制與資安議題，邀請資安專家、法律學者與公民團體代表參與。',
    url: '/meetups/digital-id-consultation',
    project: '數位身分證',
    projectUrl: '/projects/digital-id',
    registrationUrl: '#'
  },
  {
    title: '開放政府資料工作坊',
    date: '2025-04-22',
    time: '14:00-17:00',
    location: '台北市社會創新實驗中心',
    description: '實作工作坊，教導參與者如何使用政府開放資料，並討論資料標準與開放授權機制。',
    url: '/meetups/open-data-workshop',
    project: '開放政府資料',
    projectUrl: '/projects/open-data',
    registrationUrl: '#'
  },
  {
    title: '線上投票系統安全性討論',
    date: '2025-05-05',
    time: '19:30-21:30',
    location: '線上會議',
    description: '探討線上投票系統的安全性與可靠性，邀請資安專家與選舉專家分享經驗與建議。',
    url: '/meetups/online-voting-security',
    project: '線上投票系統',
    projectUrl: '/projects/online-voting',
    registrationUrl: '#'
  }
];

const pastMeetups = [
  {
    title: '數位學習資源共享平台討論會',
    date: '2025-03-18',
    time: '14:00-16:00',
    location: '國家圖書館',
    description: '討論如何建立開放教育資源與數位學習平台，縮小教育資源差距。',
    url: '/meetups/digital-learning-platform',
    project: '數位學習資源',
    projectUrl: '/projects/digital-learning',
    recordingUrl: '#',
    summaryUrl: '#'
  },
  {
    title: '環境資訊公開機制座談會',
    date: '2025-03-10',
    time: '10:00-12:00',
    location: '環保署大禮堂',
    description: '討論環境監測資訊公開機制，提升環境治理透明度。',
    url: '/meetups/environmental-info-disclosure',
    project: '環境資訊公開',
    projectUrl: '/projects/environmental-info',
    recordingUrl: '#',
    summaryUrl: '#'
  },
  {
    title: '青年就業政策工作坊',
    date: '2025-02-25',
    time: '13:30-16:30',
    location: '青創基地',
    description: '探討青年就業困境與政策解方，促進世代公平。',
    url: '/meetups/youth-employment-workshop',
    project: '青年就業政策',
    projectUrl: '/projects/youth-employment',
    recordingUrl: '#',
    summaryUrl: '#'
  }
];
---

<BaseLayout title="會議 - vTaiwan">
  <!-- Hero Section -->
  <section class="bg-black text-white py-12">
    <div class="container mx-auto px-4">
      <h1 class="text-3xl md:text-4xl font-bold mb-4">會議</h1>
      <p class="text-xl max-w-3xl">
        vTaiwan 定期舉辦線上與實體會議，討論各專案的進展與公共政策議題。歡迎所有人參與！
      </p>
    </div>
  </section>

  <!-- Upcoming Meetups -->
  <section class="py-12">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold mb-8">
        <span class="title-underline">即將舉行的會議</span>
      </h2>
      
      <div class="space-y-6">
        {upcomingMeetups.map(meetup => (
          <div class="card p-6 border-l-4 border-l-jade-green">
            <div class="md:flex justify-between">
              <div class="md:w-2/3">
                <h3 class="text-xl font-bold mb-2">
                  <a href={meetup.url} class="hover:text-jade-green transition">{meetup.title}</a>
                </h3>
                
                <div class="flex flex-wrap gap-4 text-sm text-gray-700 mb-4">
                  <div class="flex items-center gap-1">
                    <IconWrapper name="calendar" type="teal" size={16} />
                    <span>{meetup.date}</span>
                  </div>
                  <div class="flex items-center gap-1">
                    <IconWrapper name="clock" type="teal" size={16} />
                    <span>{meetup.time}</span>
                  </div>
                  <div class="flex items-center gap-1">
                    <IconWrapper name="map-pin" type="teal" size={16} />
                    <span>{meetup.location}</span>
                  </div>
                </div>
                
                <p class="text-gray-700 mb-4">{meetup.description}</p>
                
                <div class="flex items-center gap-1 text-sm">
                  <span>相關專案：</span>
                  <a href={meetup.projectUrl} class="text-democratic-red hover:text-democratic-red/80 transition">{meetup.project}</a>
                </div>
              </div>
              
              <div class="md:w-1/3 md:text-right mt-4 md:mt-0">
                <a href={meetup.registrationUrl} class="btn-secondary rounded-md inline-block">
                  立即報名
                </a>
                <a href={meetup.url} class="btn-outline rounded-md inline-block ml-2">
                  詳細資訊
                </a>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Calendar View -->
  <section class="py-12 bg-gray-100">
    <div class="container mx-auto px-4 text-center">
      <h2 class="text-2xl font-bold mb-6">會議行事曆</h2>
      <p class="mb-8">
        訂閱我們的會議行事曆，不錯過任何重要會議。
      </p>
      <div class="flex justify-center gap-4">
        <a href="#" class="btn-primary rounded-md flex items-center gap-2">
          <IconWrapper name="calendar" size={18} color="#FFFFFF" />
          <span>Google Calendar</span>
        </a>
        <a href="#" class="btn-outline rounded-md flex items-center gap-2">
          <IconWrapper name="download" size={18} />
          <span>iCal 檔案</span>
        </a>
      </div>
    </div>
  </section>

  <!-- Past Meetups -->
  <section class="py-12">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold mb-8">
        <span class="title-underline">過去的會議</span>
      </h2>
      
      <div class="space-y-6">
        {pastMeetups.map(meetup => (
          <div class="card p-6 border-l-4 border-l-gray-300">
            <div class="md:flex justify-between">
              <div class="md:w-2/3">
                <h3 class="text-xl font-bold mb-2">
                  <a href={meetup.url} class="hover:text-jade-green transition">{meetup.title}</a>
                </h3>
                
                <div class="flex flex-wrap gap-4 text-sm text-gray-700 mb-4">
                  <div class="flex items-center gap-1">
                    <IconWrapper name="calendar" size={16} />
                    <span>{meetup.date}</span>
                  </div>
                  <div class="flex items-center gap-1">
                    <IconWrapper name="clock" size={16} />
                    <span>{meetup.time}</span>
                  </div>
                  <div class="flex items-center gap-1">
                    <IconWrapper name="map-pin" size={16} />
                    <span>{meetup.location}</span>
                  </div>
                </div>
                
                <p class="text-gray-700 mb-4">{meetup.description}</p>
                
                <div class="flex items-center gap-1 text-sm">
                  <span>相關專案：</span>
                  <a href={meetup.projectUrl} class="text-democratic-red hover:text-democratic-red/80 transition">{meetup.project}</a>
                </div>
              </div>
              
              <div class="md:w-1/3 md:text-right mt-4 md:mt-0 space-y-2">
                <a href={meetup.recordingUrl} class="text-jade-green hover:text-jade-green/80 transition flex items-center gap-1 justify-end">
                  <IconWrapper name="video" type="teal" size={16} />
                  <span>觀看錄影</span>
                </a>
                <a href={meetup.summaryUrl} class="text-jade-green hover:text-jade-green/80 transition flex items-center gap-1 justify-end">
                  <IconWrapper name="file-text" type="teal" size={16} />
                  <span>會議紀錄</span>
                </a>
              </div>
            </div>
          </div>
        ))}
      </div>
      
      <div class="mt-8 text-center">
        <a href="/meetups/archive" class="btn-outline rounded-md inline-block">
          查看更多過去的會議
        </a>
      </div>
    </div>
  </section>

  <!-- Host a Meetup -->
  <section class="py-12 bg-gray-100">
    <div class="container mx-auto px-4 text-center">
      <h2 class="text-2xl font-bold mb-4">想要舉辦會議？</h2>
      <p class="text-lg mb-6 max-w-2xl mx-auto">
        如果您想針對某個專案或公共政策議題舉辦討論會，歡迎與我們聯繫。
      </p>
      <a href="/contact" class="btn-primary rounded-md inline-block">
        聯絡我們
      </a>
    </div>
  </section>
</BaseLayout>
